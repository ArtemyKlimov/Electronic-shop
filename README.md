# Задание.

База данных коммерческого магазина содержит сведения о товарах: наименование и марка товара, дата поступления, количество штук, установленная цена, страна - производитель. Программа должна в интерактивном режиме воспринимать каждый из перечисленных вопросов и давать на него ответ.

  - Определить, есть ли в магазине указанный товар производства данной страны.
  - Определить, можно ли приобрести за данную сумму и, если да, то, сколько телефонных аппаратов каждой марки (выбрать все варианты по схеме "наименование и марка - максимально возможное количество").
  - Определить на какую общую сумму поступили товары, начиная с указанной даты.
  - Построить график поступления заданного товара по датам.

### Описание программы:
  - Программа написана в среде QtCreator. Использованы возможности построения форм Среды для проектирования графического интерфейса программы. Все данные программы хранятся в таблице Базы Данных(БД) «products», подключение к которой происходит посредством встроенного в Qt драйвера Sqlite.
  - Программа написана с использованием принципов ООП. Имеет 4 основных класса: MainWindow, Add_data, DrawGraph, Order, каждому из которых соответствует отдельный графический интерфейс.
##### Главное окно программы (main_window)
При запуске программы в функции main() создается объект типа MainWindow и происходит отрисовка основного окна программы. Данное окно содержит поле под основную таблицу (TableView) и поля для ввода фильтров поиска по таблице  «products». 
#### Пример таблицы Базы Данных
| Id | Type |Model |Brand |Date |Volume |Price |Country |
| ------ | ------ | ------ | ------ |------ |------ |------ |------ |
| 1 | плеер | Ipod Nano |Apple |12.05.2016 |100 |140 |США |
| 2 | телефон |k80 |lenovo |11.10.2016 |50 |240 |Китай |
| 3 | телефон |Galaxy S4 |Samsung |08.10.2016 |25 |400 |Корея |
| 4 | фотоаппарат |60D |Canon |08.09.2016 |12 |820 |Япония |
| 5 | телевизор |Galad |Pioneer |14.05.2016 |18 |370 |Япония |
| 6 | фотоаппарат |D300 |Nikon |10.04.2012 |32|800 |Япония |

Для ввода фильтров использованы различные виджеты среды Qt:
- выпадающий список (combo Box);
- текстовое поле (Line Edit);
- счетчик (spin Box);
- поле даты (Date Edit). 

Значения в выпадающих спис-ках «Тип устройства» и «Страна» задаются значениями из БД. Поля фильтра ценового диапазона заполняются только числовыми значениями. При клике на поля, отвечающие за ввод фильтров даты, появляется выпадающий календарь. Максимальный параметр ограничен значением текущей даты.
Если ни один фильтр не выбран, то выводится вся таблица products.
При двойном клике на элемент таблицы имеется возможность редактирования значения.
Под таблицей одной строкой выводится результат применения фильтра: количество выбранных товаров и их суммарная стоимость.
Из главного окна пользователь имеет возможность выгрузить полученный результат поиска из БД. Доступные форматы: .txt и .csv . Формат .csv удобно открывается в Microsoft Excel.

##### Класс Add_data.
При нажатии на кнопку «Добавить» открывается окно добавления новых данных в таблицу. Пользо-ватель может добавить данные только когда заполнит все предложенные поля. Кнопка «Удалить» удаляет выделенную строку из таблицы.

##### Класс DrawGraph
В окне "Построить график прихода" пользователь может построить диаграмму поступления выбранного товара на склад магазина. Рисование графиков осуществляется с помощью сторонней библиотеки [qcustomplot](http://www.qcustomplot.com). Чтобы построить график, пользователю необходимо выбрать тип устройства и модель. 
Если не выбрана конкретная модель устройства, на графике отображаются все модели заданного типа устройств.
Если не выбран тип, на графике отображаются значения всех устройств из таблицы.
Пользователь имеет возможность с помощью компьютерной мыши или тачпада увеличивать и уменьшать масштаб графика, передвигать график по оси х.

##### Класс Order
Пункт меню «Оформление заказа» открывает окно оформления заказа. Пользователю необходимо выбрать желаемый тип устройства и указать сумму, на которую он желает оформить заказ, после чего будет разблокирована кнопка «Вывести данные». После нажатия на нее в окне отображаются данные из таблицы: модель – бренд – остаток на складе. Последняя графа – это сумма всех значений таблицы, сгруппированных относительно моделей устройств. 
Выделяя поочередно строки таблицы, пользователю в реальном времени выводится информация о количестве товара конкретной модели, которые он может приобрести в магазине. 
Так как в базе данных могут содержаться значения одной модели, но с разными ценами (например, разные даты поставки), то пользователю сначала будут предложены наиболее дешевые модели. 


###### Screenshots
Ознакомиться со скриншотами программы можно [здесь](https://github.com/ArtemyKlimov/Electronic-shop/tree/master/screenshots).

###### Todos

 - Исправить: при нажатии на кнопку "Выход" в главном окне должны закрываться все окна программы.



**Free Software, Hell Yeah!**
